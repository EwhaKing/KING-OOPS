# 02장 이상한 나라의 객체

## 상태, 행동, 식별자

* 객체는 상태를 가지며, 상태는 변화한다.
* 행동에 따라 상태가 변화하나, 그 행동은 상태에 의존적이다. 따라서 행동의 순서에 따라 결과에 영향을 미치게 된다.
* 객체는 유일하게 식별할 수 있다.

## 상태

객체의 상태는 값과 객체의 조합으로 표현된다. 내가 음료수를 들고 있는 상태라면 음료수 객체와 기타 값들(나의 키, 현재 위치, 등)이 그 상태를 나타낸다.

`프로퍼티`는 음료수, 키, 몸무게와 같이 객체의 상태를 나타낼 수 있는 특징들을 말한다. 즉, 연결된 객체와 값을 `프로퍼티`라고 한다.
`프로퍼티 값`은 연결된 음료가 어떤 것인지, 키의 값, 구체적인 위치와 같이 명료한 값과 식별된 객체 자체를 의미한다.

이때, `프로퍼티`는 보통 `정적`이고, `프로퍼티 값`은 `동적`이다. (변경의 관점에서)

구체적으로는 객체-객체 사이의 연결은 `링크`, 단순한 값은 `속성`이라고 한다.

객체는 상태가 존재하기 때문에 `가변적`이나, 값은 `불변적`이다. 객체와 값은 이를 통해 구분할 수 있다.

## 자율성이 높은 객체는 설계를 유연하게 만든다.

앨리스와 음료수의 관계를 살펴보자. </br>
현실 세계에서는 음료수를 마시고 음료의 양을 줄일 책임이 전부 앨리스에게 있다.
하지만 소프트웨어 세계에서는 음료를 마실 책임은 앨리스에게, 음료의 양을 줄일 책임은 음료에게 있다.

앨리스는 음료와 링크가 있고, 음료는 음료의 양이라는 속성이 있다. </br>
음료의 양은 음료의 속성이므로 그 책임은 당연히 음료에 있다.

## 식별자

`동등성`

값과 객체의 차이는 `식별자의 여부`다. 모든 객체는 식별할 수 있지만 값은 식별할 수 없다. 값은 상태를 갖지 않으며, 객체에 종속되어 있다.
값의 비교는 실제 값으로 한다. 1과 1은 동일하다.
객체의 비교는 프로퍼티로 한다. 

## 객체지향 설계

협력 -> 행동 -> 상태 순서로 설계한다. </br>
상태를 먼저 생각하고 행동을 설계하면 캡슐화가 저해되고 객체를 협력자가 아닌 고립된 섬으로 만든다.

## 은유와 의인화

객체지향 세계는 현실 세계의 모방이 아닌 은유다. 현실세계에서 능동적이지 못한 것을이 객체지향 세계에서는 능동적이다. (음료수처럼)
모든 객체는 의인화되어 자율적으로 움직이게 된다. 그럼에도 현실을 투영시키려는 이유는 표현의 일관성을 위함이다.


